<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title> Vue文档3 | fanfan</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://fanfankill.github.io/favicon.ico?v=1626666797610">
<link rel="stylesheet" href="https://fanfankill.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="Prop
字符串数组形式列出的 prop：
props: ['title', 'likes', 'isPublished', 'commentIds', 'author']
prop 各自的名称和类型
props: {
  title: S..." />
    <meta name="keywords" content="vue" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://fanfankill.github.io">
        <img src="https://fanfankill.github.io/images/avatar.png?v=1626666797610" class="site-logo">
        <h1 class="site-title">fanfan</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/tag/hjqM1TBv9/" class="site-nav">
            JS
          </a>
        
      
        
          <a href="/css" class="site-nav">
            CSS
          </a>
        
      
        
          <a href="/html" class="site-nav">
            HTML
          </a>
        
      
        
          <a href="/tag/KATkWfQKE/" class="site-nav">
            Http
          </a>
        
      
        
          <a href="/tag/YjLqWgkox/" class="site-nav">
            Vue
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      <strong>前端小白</strong>
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://fanfankill.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title"> Vue文档3</h2>
            <div class="post-date">2021-07-18</div>
            
              <div class="feature-container" style="background-image: url('https://img1.baidu.com/it/u=2777480701,3081791725&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg')">
              </div>
            
            <div class="post-content" v-pre>
              <h2 id="prop">Prop</h2>
<p>字符串数组形式列出的 prop：</p>
<p><code>props: ['title', 'likes', 'isPublished', 'commentIds', 'author']</code></p>
<p>prop 各自的名称和类型</p>
<pre><code class="language-js">props: {
  title: String,
  likes: Number,
  isPublished: Boolean,
  commentIds: Array,
  author: Object,
  callback: Function,
  contactsPromise: Promise // or any other constructor
}
</code></pre>
<h2 id="传递静态或动态-prop">传递静态或动态 Prop</h2>
<p>给 prop 传入一个静态的值</p>
<p><code>&lt;blog-post title=&quot;My journey with Vue&quot;&gt;&lt;/blog-post&gt;</code></p>
<p>prop 可以通过 <code>v-bind</code> 动态赋值</p>
<pre><code class="language-js">&lt;!-- 动态赋予一个变量的值 --&gt;
&lt;blog-post v-bind:title=&quot;post.title&quot;&gt;&lt;/blog-post&gt;

&lt;!-- 动态赋予一个复杂表达式的值 --&gt;
&lt;blog-post
  v-bind:title=&quot;post.title + ' by ' + post.author.name&quot;
&gt;&lt;/blog-post&gt;
</code></pre>
<p>需要 <code>v-bind</code> 来告诉 Vue 这是一个 JavaScript 表达式而不是一个字符串。</p>
<ul>
<li>传入数字</li>
<li>传入布尔值</li>
<li>传入数组</li>
<li>传入对象</li>
</ul>
<h2 id="单向数据流">单向数据流</h2>
<p>所有的 prop 都使得其父子 prop 之间形成了一个<strong>单向下行绑定</strong>：父级 prop 的更新会向下流动到子组件中，但是反过来则不行，这样会<strong>防止从子组件意外变更父级组件的状态</strong>，从而导致你的应用的数据流向难以理解。</p>
<p>每次父级组件发生变更时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你<strong>不</strong>应该在一个子组件内部改变 prop</p>
<p>注意在 JavaScript 中对象和数组是通过引用传入的，所以对于一个数组或对象类型的 prop 来说，在子组件中改变变更这个对象或数组本身<strong>将会</strong>影响到父组件的状态。</p>
<h2 id="prop-验证">Prop 验证</h2>
<p>例如你知道的这些类型。如果有一个需求没有被满足，则 Vue 会在浏览器控制台中警告你</p>
<pre><code class="language-js">Vue.component('my-component', {
  props: {
    // 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)
    propA: Number,
    // 多个可能的类型
    propB: [String, Number],
    // 必填的字符串
    propC: {
      type: String,
      required: true
    },
    // 带有默认值的数字
    propD: {
      type: Number,
      default: 100
    },
    // 带有默认值的对象
    propE: {
      type: Object,
      // 对象或数组默认值必须从一个工厂函数获取
      default: function () {
        return { message: 'hello' }
      }
    },
    // 自定义验证函数
    propF: {
      validator: function (value) {
        // 这个值必须匹配下列字符串中的一个
        return ['success', 'warning', 'danger'].indexOf(value) !== -1
      }
    }
  }
})
</code></pre>
<h2 id="替换合并已有的-attribute">替换/合并已有的 Attribute]</h2>
<p><code>class</code> 和 <code>style</code> attribute 值会被合并起来</p>
<h2 id="禁用-attribute-继承">禁用 Attribute 继承</h2>
<p>如果你<strong>不</strong>希望组件的根元素继承 attribute，你可以在组件的选项中设置 <code>inheritAttrs: false</code>。例如：</p>
<pre><code class="language-js">Vue.component('my-component', {
  inheritAttrs: false,
  // ...
})
</code></pre>
<h2 id="自定义事件"><strong>自定义事件</strong></h2>
<p>事件名不存在自动大小写转换，在<code>v-on</code>事件监听器DOM模板中会自动转化为小写</p>
<h2 id="自定义组件v-model">自定义组件<code>v-model</code></h2>
<p>一个组件上的 <code>v-model</code> 默认会利用名为 <code>value</code> 的 prop 和名为 <code>input</code> 的事件</p>
<p>但是像单选框、复选框等类型的输入控件可能会将 <code>value</code> attribute 用于不同的目的</p>
<pre><code class="language-js">Vue.component('base-checkbox', {
  model: {
    prop: 'checked',
    event: 'change'
  },
  props: {
    checked: Boolean
  },
  template: `
    &lt;input
      type=&quot;checkbox&quot;
      v-bind:checked=&quot;checked&quot;
      v-on:change=&quot;$emit('change', $event.target.checked)&quot;
    &gt;
  `
})
</code></pre>
<h2 id="将原生事件绑定到组件">将原生事件绑定到组件</h2>
<p>想要在一个组件的根元素上直接监听一个原生事件。这时，你可以使用 <code>v-on</code> 的 <code>.native</code> 修饰符：</p>
<p>但元素实际上是一个 <code>&lt;label&gt;</code> 元素的时候监听不到：</p>
<p>包含了父作用域中不作为 prop 被识别 (且获取) 的特性绑定</p>
<p>$attrs可以接受上级传递过来的属性</p>
<pre><code class="language-js">&lt;label&gt;
  {{ label }}
  &lt;input
    v-bind=&quot;$attrs&quot;
    v-bind:value=&quot;value&quot;
    v-on:input=&quot;$emit('input', $event.target.value)&quot;
  &gt;
&lt;/label&gt;
</code></pre>
<p>Vue 提供了一个 <code>$listeners</code> property，它是一个对象，里面包含了作用在这个组件上的所有监听器</p>
<pre><code class="language-js">{
  focus: function (event) { /* ... */ }
  input: function (value) { /* ... */ },
}
</code></pre>
<p>就可以配合 <code>v-on=&quot;$listeners&quot;</code>将所有的事件监听器指向这个组件的某个特定的子元素</p>
<h2 id="sync-修饰符"><code>.sync</code> 修饰符</h2>
<p>真正的双向绑定会带来维护上的问题，因为子组件可以变更父组件，且在父组件和子组件两侧都没有明显的变更来源</p>
<p>带有 <code>.sync</code> 修饰符的 <code>v-bind</code> <strong>不能</strong>和表达式一起使用</p>
<p>例如 <code>v-bind:title.sync=”doc.title + ‘!’”</code> 是无效的</p>
<p>简写双向绑定的语法糖</p>
<p>父</p>
<p><code>&lt;child :title.sync=&quot;title&quot;&gt; &lt;/child&gt;</code></p>
<p>子</p>
<pre><code class="language-js"> &lt;input :value=&quot;title&quot; @input=&quot;abc&quot; type=&quot;text&quot;&gt;
    props: {
      title: {
        type: String,
        required: true
      }
    },
      methods: {
      abc(e) {
        console.log(e.target.value);
        this.$emit('update:title', e.target.value);
      }
    }
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://fanfankill.github.io/tag/YjLqWgkox/" class="tag">
                    vue
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://fanfankill.github.io/post/vue-wen-dang-2/">
                  <h3 class="post-title">
                     Vue文档2
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
